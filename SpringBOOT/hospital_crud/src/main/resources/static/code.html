<!DOCTYPE html>
<html>
<head>
    <title>Reduced code</title>
</head>
<body>

<h2>HOSPITAL SAMPLE</h2>

<h3>All Hospitals:</h3>
<div id="demo">
    <button type="button" onclick="getAll('http://localhost:8080/api/hospital', 'demo')">Get All</button><br><br>
</div>

<h3>Hospitals by Id:</h3>
<div id="id">
    <input type="text" id="hid">
    <button type="button" onclick="getAll('http://localhost:8080/api/hospital/id/'+formatUrl('hid'), 'id')">Get By Id</button><br><br>
</div>

<h3>Hospitals by Name:</h3>
<div id="name">
    <input type="text" id="hname">
    <button type="button" onclick="getAll('http://localhost:8080/api/hospital/name/'+formatUrl('hname'), 'name')">Get By Name</button>
</div>

<script>

function getAll(restApi,target) {

    const xmlhttp = new XMLHttpRequest();
    xmlhttp.onload = function() {
      const myObj = JSON.parse(this.responseText);
      let text = "<table border='1'>"
      text+="<tr><th>"+ "H_Id" + "</th><th>" + "Hospital Name" + "</th><th>" + "Location" + "</th><th>" + "Patient Name" + "</th><th>" + "Age" + "</th>";
      for (let x in myObj) {
         text += "<tr><td>" + myObj[x].hid +"</td><td>"+ myObj[x].hname +"</td><td>" + myObj[x].location + "</td><td>"+ myObj[x].patients.pname +"</td><td>"+ myObj[x].patients.age+"</td></tr>";
      }
      text += "</table>"
      document.getElementById(target).innerHTML = text;
    }
      xmlhttp.open("GET",restApi);
      xmlhttp.send();
}

function formatUrl(hosid) {
    return document.getElementById(hosid).value;
}

</script>

</body>
</html>